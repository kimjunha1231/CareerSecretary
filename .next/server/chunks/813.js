exports.id=813,exports.ids=[813],exports.modules={2488:(e,t,r)=>{Promise.resolve().then(r.bind(r,3917)),Promise.resolve().then(r.bind(r,5088)),Promise.resolve().then(r.bind(r,7462)),Promise.resolve().then(r.bind(r,3022)),Promise.resolve().then(r.bind(r,609))},6040:(e,t,r)=>{Promise.resolve().then(r.bind(r,7911)),Promise.resolve().then(r.bind(r,6084)),Promise.resolve().then(r.bind(r,2922)),Promise.resolve().then(r.bind(r,1449)),Promise.resolve().then(r.bind(r,2085))},7882:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},8050:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,1284,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},7911:(e,t,r)=>{"use strict";r.d(t,{GlobalAlert:()=>p});var o=r(5512),s=r(8009),n=r(1449),i=r(1643),a=r(9462);let l=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=s.forwardRef(({className:e,variant:t,...r},s)=>(0,o.jsx)("div",{ref:s,role:"alert",className:(0,a.cn)(l({variant:t}),e),...r}));c.displayName="Alert";let d=s.forwardRef(({className:e,...t},r)=>(0,o.jsx)("h5",{ref:r,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let u=s.forwardRef(({className:e,...t},r)=>(0,o.jsx)("div",{ref:r,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",e),...t}));u.displayName="AlertDescription";var h=r(2056),m=r(7832);let p=()=>{let{alert:e,hideAlert:t}=(0,n.A)();if(!e.message)return null;let r="success"===e.type;return(0,o.jsx)("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md px-4 animate-in fade-in slide-in-from-top-4 duration-300",children:(0,o.jsxs)(c,{variant:r?"default":"destructive",className:`${r?"border-green-500/50 text-green-500 bg-green-500/10":""} shadow-lg backdrop-blur-sm`,children:[r?(0,o.jsx)(h.A,{className:"h-4 w-4",color:r?"#22c55e":void 0}):(0,o.jsx)(m.A,{className:"h-4 w-4"}),(0,o.jsx)(d,{children:r?"성공":"오류"}),(0,o.jsx)(u,{children:e.message})]})})}},6084:(e,t,r)=>{"use strict";r.d(t,{Layout:()=>b});var o=r(5512),s=r(8009),n=r.n(s),i=r(8531),a=r.n(i),l=r(9334),c=r(4164),d=r(3640),u=r(9455),h=r(2417),m=r(722),p=r(3894),v=r(1652),x=r(3205),f=r(1449);let g=({to:e,icon:t,label:r})=>{let s=(0,l.usePathname)()===e;return(0,o.jsxs)(a(),{href:e,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 group relative ${s?"text-white bg-white/5 shadow-[0_0_15px_rgba(255,255,255,0.05)]":"text-zinc-400 hover:text-zinc-100 hover:bg-white/5"} `,children:[(0,o.jsx)("span",{className:`${s?"text-primary":"text-zinc-500 group-hover:text-zinc-300"} `,children:t}),(0,o.jsx)("span",{className:"whitespace-nowrap overflow-hidden",children:r}),s&&(0,o.jsx)(v.P.div,{layoutId:"activeTab",className:"absolute left-0 w-1 h-5 bg-primary rounded-r-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.2}})]})},b=({children:e})=>{(0,l.usePathname)();let[t,r]=(0,s.useState)(!0),{user:i,signInWithGoogle:a,signOut:b}=(0,f.A)();return n().useEffect(()=>{let e=()=>{window.innerWidth<1024?r(!1):r(!0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.jsxs)("div",{className:"min-h-screen bg-background text-zinc-100 flex font-sans overflow-hidden selection:bg-primary/30 selection:text-white",children:[(0,o.jsx)(x.N,{children:t&&(0,o.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"})}),(0,o.jsxs)(v.P.aside,{layout:!0,initial:!1,animate:{width:t?256:0,x:t?0:-256,opacity:t?1:0},transition:{type:"spring",stiffness:260,damping:32},className:`fixed inset-y-0 left-0 z-50 lg:static lg:z-auto border-r border-border bg-surface/95 backdrop-blur-xl flex flex-col justify-between h-screen overflow-hidden ${!t&&"lg:w-0 lg:border-none"}`,style:{pointerEvents:t?"auto":"none"},"aria-hidden":!t,children:[(0,o.jsxs)("div",{className:"p-6 w-[256px]",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded bg-gradient-to-tr from-primary to-purple-600 flex items-center justify-center shadow-lg shadow-primary/20",children:(0,o.jsx)(c.A,{size:18,className:"text-white"})}),(0,o.jsx)("h1",{className:"font-bold text-lg tracking-tight",children:"CoverLetter Vault"})]}),(0,o.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r(!1)},className:"text-zinc-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded z-10",title:"사이드바 닫기",children:(0,o.jsx)(d.A,{size:18})})]}),(0,o.jsxs)("nav",{className:"space-y-1",children:[(0,o.jsx)(g,{to:"/archive",icon:(0,o.jsx)(u.A,{size:18}),label:"아카이브"}),(0,o.jsx)(g,{to:"/write",icon:(0,o.jsx)(h.A,{size:18}),label:"작성하기"})]})]}),(0,o.jsx)("div",{className:"p-6 space-y-4 w-[256px]",children:(0,o.jsx)("div",{className:"pt-4 border-t border-border/50",children:i?(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[i.user_metadata.avatar_url?(0,o.jsx)("img",{src:i.user_metadata.avatar_url,alt:"Profile",className:"w-8 h-8 rounded-full border border-zinc-600"}):(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-zinc-700 to-zinc-800 border border-zinc-600 flex items-center justify-center text-xs font-bold",children:i.email?.[0].toUpperCase()}),(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsx)("span",{className:"text-xs font-medium text-white max-w-[100px] truncate",children:i.user_metadata.full_name||i.email?.split("@")[0]})})]}),(0,o.jsx)("button",{onClick:b,className:"text-zinc-500 hover:text-white transition-colors p-1.5 hover:bg-white/10 rounded",title:"로그아웃",children:(0,o.jsx)(m.A,{size:14})})]}):(0,o.jsxs)("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-white text-black rounded-lg text-sm font-medium hover:bg-zinc-200 transition-colors",children:[(0,o.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,o.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,o.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,o.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google 로그인"]})})})]}),(0,o.jsxs)(v.P.main,{layout:!0,transition:{type:"spring",stiffness:260,damping:32},className:"flex-1 relative overflow-y-auto h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-zinc-900 via-background to-background w-full",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none mix-blend-overlay"}),(0,o.jsx)(x.N,{children:!t&&(0,o.jsx)(v.P.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onClick:()=>r(!0),className:"fixed top-6 left-6 z-[40] p-3 bg-surface border border-white/20 rounded-lg text-zinc-400 hover:text-white hover:bg-white/10 transition-all shadow-xl",children:(0,o.jsx)(p.A,{size:20})})}),(0,o.jsx)("div",{className:"max-w-7xl mx-auto p-4 md:p-8 relative z-10 h-full",children:e})]})]})}},2922:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>i});var o=r(5512),s=r(3371),n=r(1542);let i=({...e})=>{let{theme:t="system"}=(0,s.D)();return(0,o.jsx)(n.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},1449:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>a,A:()=>l});var o=r(5512),s=r(8009);let n=(0,r(984).createBrowserClient)("https://uoogquwrzytpnyhjkqpk.supabase.co","sb_publishable_t4ETXw2dUK4_0L4m1KepXg_HwmDH7Vx"),i=(0,s.createContext)(void 0),a=({children:e})=>{let[t,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,h]=(0,s.useState)({message:"",type:null}),m=(e,t)=>{h({message:e,type:t}),setTimeout(()=>{h({message:"",type:null})},3e3)};(0,s.useEffect)(()=>{n.auth.getSession().then(({data:{session:e}})=>{l(e),r(e?.user??null),d(!1)});let{data:{subscription:e}}=n.auth.onAuthStateChange((e,t)=>{l(t),r(t?.user??null),d(!1)});return()=>e.unsubscribe()},[]);let p=async()=>{try{let{error:e}=await n.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(e)throw e}catch(e){console.error("Error signing in with Google:",e),m("로그인 중 오류가 발생했습니다.","error")}},v=async()=>{try{let{error:e}=await n.auth.signOut();if(e)throw e;m("로그아웃 되었습니다.","success"),window.location.href="/"}catch(e){console.error("Error signing out:",e),m("로그아웃 중 오류가 발생했습니다.","error")}};return(0,o.jsx)(i.Provider,{value:{user:t,session:a,isLoading:c,alert:u,signInWithGoogle:p,signOut:v,showAlert:m,hideAlert:()=>{h({message:"",type:null})}},children:e})},l=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2085:(e,t,r)=>{"use strict";r.d(t,{DocumentProvider:()=>i,U:()=>a});var o=r(5512),s=r(8009);let n=(0,s.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,s.useState)([]),[i,a]=(0,s.useState)(!0),l=async()=>{try{a(!0);let e=await fetch("/api/documents");if(401===e.status){r([]);return}if(!e.ok)throw Error("Failed to fetch documents");let t=(await e.json()).map(e=>({id:e.id,title:e.title,company:e.company,role:e.role,content:e.content,createdAt:new Date(e.created_at).toISOString().split("T")[0],jobPostUrl:e.job_post_url,status:e.status||"pending",tags:e.tags||[]}));r(t)}catch(e){console.error("Error fetching documents:",e)}finally{a(!1)}};(0,s.useEffect)(()=>{l()},[]);let c=async e=>{try{if(!(await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to create document");await l()}catch(e){throw console.error("Error creating document:",e),e}},d=async e=>{try{if(!(await fetch(`/api/documents?id=${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete document");await l()}catch(e){throw console.error("Error deleting document:",e),e}},u=async(e,t)=>{try{if(!(await fetch(`/api/documents?id=${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to update document");await l()}catch(e){throw console.error("Error updating document:",e),e}},h={total:t.length,companies:new Set(t.map(e=>e.company)).size,lastActive:t.length>0?t[0].createdAt:"N/A"};return(0,o.jsx)(n.Provider,{value:{documents:t,addDocument:c,deleteDocument:d,updateDocument:u,stats:h,isLoading:i,refreshDocuments:l},children:e})},a=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useDocuments must be used within a DocumentProvider");return e}},9462:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var o=r(2281),s=r(4805);function n(...e){return(0,s.QP)((0,o.$)(e))}},9611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>u});var o=r(2740),s=r(9258),n=r.n(s);r(2704);var i=r(609),a=r(3022),l=r(5088),c=r(7462),d=r(3917);let u={title:"CoverLetter Vault",description:"AI-powered cover letter management"};function h({children:e}){return(0,o.jsx)("html",{lang:"ko",className:"dark",suppressHydrationWarning:!0,children:(0,o.jsx)("body",{className:n().className,suppressHydrationWarning:!0,children:(0,o.jsx)(a.AuthProvider,{children:(0,o.jsxs)(i.DocumentProvider,{children:[(0,o.jsx)(l.Layout,{children:e}),(0,o.jsx)(d.GlobalAlert,{}),(0,o.jsx)(c.Toaster,{})]})})})})}},3917:(e,t,r)=>{"use strict";r.d(t,{GlobalAlert:()=>o});let o=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call GlobalAlert() from the server but GlobalAlert is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/components/GlobalAlert.tsx","GlobalAlert")},5088:(e,t,r)=>{"use strict";r.d(t,{Layout:()=>o});let o=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call Layout() from the server but Layout is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/components/Layout.tsx","Layout")},7462:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>o});let o=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/components/ui/sonner.tsx","Toaster")},3022:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>s});var o=r(6760);let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/context/AuthContext.tsx","AuthProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/context/AuthContext.tsx","useAuth")},609:(e,t,r)=>{"use strict";r.d(t,{DocumentProvider:()=>s});var o=r(6760);let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call DocumentProvider() from the server but DocumentProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/context/DocumentContext.tsx","DocumentProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useDocuments() from the server but useDocuments is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/junha/coding/careervault-ai/context/DocumentContext.tsx","useDocuments")},2704:()=>{}};