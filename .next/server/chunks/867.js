"use strict";exports.id=867,exports.ids=[867],exports.modules={7252:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(5512);function s({className:e="",variant:t="default",...r}){let s={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/15 text-green-500 hover:bg-green-500/25 border-green-500/20",pending:"border-transparent bg-yellow-500/15 text-yellow-500 hover:bg-yellow-500/25 border-yellow-500/20",fail:"border-transparent bg-red-500/15 text-red-500 hover:bg-red-500/25 border-red-500/20"},a=s[t]||s.default;return(0,n.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${a} ${e}`,...r})}r(8009)},7032:(e,t,r)=>{r.d(t,{i:()=>u});var n=r(5512),s=r(8009),a=r(4269),i=r(6235),l=r(8741),o=r(7252),c=r(6248);c.callServer,c.findSourceMapURL;var d=r(9462);function u({tags:e=[],onChange:t,placeholder:r="태그 입력...",className:c="",allowCreate:u=!0}){let[p,x]=(0,s.useState)(""),[f,m]=(0,s.useState)([]),[h,g]=(0,s.useState)([]),[b,v]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)(0),z=(0,s.useRef)(null),A=(0,s.useRef)(null),k=r=>{let n=r.trim();n&&!e.includes(n)&&(t([...e,n]),x(""),v(!1))},S=r=>{t(e.filter(e=>e!==r))},E=u&&p.trim()&&!h.includes(p.trim())&&!e.includes(p.trim());return(0,n.jsxs)("div",{className:(0,d.cn)("relative",c),children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 bg-zinc-900 border border-zinc-700 rounded-lg focus-within:border-primary transition-colors",children:[e.map(e=>(0,n.jsxs)(o.E,{variant:"secondary",className:"gap-1 pr-1 text-sm py-1",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>S(e),className:"hover:bg-zinc-700 rounded-full p-0.5 transition-colors",children:(0,n.jsx)(a.A,{size:12})})]},e)),(0,n.jsx)("input",{ref:z,type:"text",value:p,onChange:e=>{x(e.target.value),v(!0)},onFocus:()=>v(!0),onKeyDown:r=>{!r.nativeEvent.isComposing&&("Enter"===r.key?(r.preventDefault(),b&&h.length>0?k(h[j]):p.trim()&&u&&k(p)):"Backspace"===r.key&&!p&&e.length>0?t(e.slice(0,-1)):"ArrowDown"===r.key?(r.preventDefault(),b?N(e=>(e+1)%(h.length+(p&&u?1:0))):v(!0)):"ArrowUp"===r.key?(r.preventDefault(),b?N(e=>(e-1+(h.length+(p&&u?1:0)))%(h.length+(p&&u?1:0))):v(!0)):"Escape"===r.key&&v(!1))},className:"flex-1 bg-transparent border-none outline-none text-white min-w-[120px] text-sm placeholder:text-zinc-500",placeholder:0===e.length?r:""})]}),b&&(p||h.length>0||y)&&(0,n.jsx)("div",{ref:A,className:"absolute top-full left-0 w-full mt-1 bg-zinc-900 border border-zinc-700 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto",children:y?(0,n.jsxs)("div",{className:"p-4 flex items-center justify-center text-zinc-500 text-sm",children:[(0,n.jsx)(i.A,{size:16,className:"animate-spin mr-2"}),"태그 불러오는 중..."]}):(0,n.jsxs)("div",{className:"p-1",children:[(0,n.jsx)("div",{className:"text-xs font-medium text-zinc-500 px-2 py-1.5",children:"옵션 선택 또는 생성"}),h.map((e,t)=>(0,n.jsx)("button",{onClick:()=>k(e),className:(0,d.cn)("w-full text-left px-2 py-1.5 text-sm rounded flex items-center justify-between group transition-colors",t===j?"bg-zinc-800 text-white":"text-zinc-300 hover:bg-zinc-800 hover:text-white"),children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-zinc-500 group-hover:bg-primary transition-colors"}),(0,n.jsx)("span",{children:e})]})},e)),E&&(0,n.jsxs)("button",{onClick:()=>k(p),className:(0,d.cn)("w-full text-left px-2 py-1.5 text-sm rounded flex items-center gap-2 transition-colors",h.length===j?"bg-zinc-800 text-white":"text-zinc-300 hover:bg-zinc-800 hover:text-white"),children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-5 h-5 rounded bg-zinc-800 border border-zinc-600",children:(0,n.jsx)(l.A,{size:12})}),(0,n.jsxs)("span",{children:["생성: ",(0,n.jsxs)("span",{className:"text-white font-medium",children:['"',p,'"']})]})]}),!E&&0===h.length&&(0,n.jsx)("div",{className:"px-2 py-4 text-center text-zinc-500 text-sm",children:"검색 결과가 없습니다."})]})})]})}},9576:(e,t,r)=>{r.d(t,{A:()=>f});var n=r(5512),s=r(8009),a=r(2214),i=r(4269),l=r(4849),o=r(2557),c=r(6248);let d=(0,c.createServerReference)("40ce32114bb7ef776e67f4230455ae8a941edffccd",c.callServer,void 0,c.findSourceMapURL,"refineText");function u(e,t){let r=e=>e.split(/(\s+|[.,!?;:()])/).filter(e=>e.length>0),n=r(e),s=r(t),a=n.length,i=s.length,l=Array.from({length:a+1},()=>Array(i+1).fill(0));for(let e=1;e<=a;e++)for(let t=1;t<=i;t++)n[e-1]===s[t-1]?l[e][t]=l[e-1][t-1]+1:l[e][t]=Math.max(l[e-1][t],l[e][t-1]);let o=a,c=i,d=[];for(;o>0||c>0;)o>0&&c>0&&n[o-1]===s[c-1]?(d.unshift({type:"same",value:n[o-1]}),o--,c--):c>0&&(0===o||l[o][c-1]>=l[o-1][c])?(d.unshift({type:"added",value:s[c-1]}),c--):o>0&&(0===c||l[o][c-1]<l[o-1][c])&&(d.unshift({type:"removed",value:n[o-1]}),o--);if(0===d.length)return[];let u=[],p=d[0];for(let e=1;e<d.length;e++)d[e].type===p.type?p.value+=d[e].value:(u.push(p),p=d[e]);return u.push(p),u}var p=r(1542),x=r(9462);function f({text:e,onApply:t,autoTrigger:r=!1}){let[c,f]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),g=async()=>{if(!e||e.trim().length<10){p.oR.error("교정할 텍스트가 너무 짧습니다. (10자 이상)");return}f(!0);try{let t=await d(e);t?h(t):p.oR.error("AI 교정에 실패했습니다. 잠시 후 다시 시도해주세요.")}catch(e){console.error("Refine failed:",e),p.oR.error("오류가 발생했습니다.")}finally{f(!1)}};return m?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,n.jsxs)("div",{className:"w-full max-w-5xl max-h-[85vh] flex flex-col bg-zinc-900 border border-purple-500/30 rounded-xl overflow-hidden shadow-2xl shadow-purple-900/20 animate-in zoom-in-95 duration-200",children:[(0,n.jsxs)("div",{className:"flex-none flex items-center justify-between px-6 py-4 bg-zinc-950 border-b border-white/5",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-purple-400",children:[(0,n.jsx)(a.A,{size:18}),(0,n.jsx)("span",{className:"text-base font-semibold",children:"AI 맞춤법 및 어조 교정"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>{h(null)},className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded-lg transition-colors",title:"취소",children:(0,n.jsx)(i.A,{size:20})}),(0,n.jsxs)("button",{onClick:()=>{m&&(t(m.corrected),h(null),p.oR.success("교정된 내용이 적용되었습니다."))},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium rounded-lg transition-colors shadow-lg shadow-purple-900/20",title:"적용하기",children:[(0,n.jsx)(l.A,{size:18}),(0,n.jsx)("span",{children:"적용하기"})]})]})]}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 min-h-full divide-y md:divide-y-0 md:divide-x divide-white/10",children:[(0,n.jsxs)("div",{className:"p-6 bg-zinc-950/50",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,n.jsx)("div",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider bg-zinc-900 px-2 py-1 rounded",children:"교정 전"})}),(0,n.jsx)("div",{className:"text-zinc-400 text-base leading-relaxed whitespace-pre-wrap",children:u(m.original,m.corrected).map((e,t)=>(0,n.jsx)("span",{className:(0,x.cn)("removed"===e.type&&"bg-red-500/20 text-red-300 line-through decoration-red-500/50","added"===e.type&&"hidden"),children:e.value},t))})]}),(0,n.jsxs)("div",{className:"p-6 bg-purple-900/5",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,n.jsx)("div",{className:"text-xs text-purple-400 font-bold uppercase tracking-wider bg-purple-900/20 px-2 py-1 rounded border border-purple-500/20",children:"교정 후"})}),(0,n.jsx)("div",{className:"text-zinc-100 text-base leading-relaxed whitespace-pre-wrap",children:u(m.original,m.corrected).map((e,t)=>(0,n.jsx)("span",{className:(0,x.cn)("added"===e.type&&"bg-green-500/20 text-green-300","removed"===e.type&&"hidden"),children:e.value},t))})]})]})}),m.changes&&m.changes.length>0&&(0,n.jsxs)("div",{className:"flex-none px-6 py-4 bg-zinc-950 border-t border-white/5 flex flex-wrap gap-2 items-center",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-zinc-500 mr-2 uppercase tracking-wider",children:"Changes:"}),m.changes.map((e,t)=>(0,n.jsx)("span",{className:"px-2.5 py-1 bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs font-medium rounded-full",children:e},t))]})]})}):(0,n.jsx)("button",{onClick:g,disabled:c,className:(0,x.cn)("flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200","text-purple-400 hover:text-purple-300 hover:bg-purple-500/10",c&&"opacity-70 cursor-wait"),children:c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{size:16,className:"animate-spin"}),(0,n.jsx)("span",{children:"분석 중..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.A,{size:16}),(0,n.jsx)("span",{children:"AI 교정"})]})})}},8879:(e,t,r)=>{r.d(t,{HK:()=>l,Ps:()=>d,Xz:()=>c,ui:()=>o});var n=r(1590);r(376);var s=r(3665),a=r(2385);async function i(){let e=await (0,a.UL)();return(0,s.createServerClient)("https://uoogquwrzytpnyhjkqpk.supabase.co","sb_publishable_t4ETXw2dUK4_0L4m1KepXg_HwmDH7Vx",{cookies:{get:t=>e.get(t)?.value,set(t,r,n){try{e.set({name:t,value:r,...n})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}async function l(){let e=await i(),{data:t,error:r}=await e.from("documents").select("*").order("position",{ascending:!0}).order("created_at",{ascending:!1});return r?(console.error("Error fetching documents:",r),[]):t}async function o(e){let t=await i(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let n=e.get("title"),s=e.get("company"),a=e.get("role"),l=e.get("content"),o=e.get("tags"),c=[];try{o&&(c=JSON.parse(o))}catch(e){console.error("Failed to parse tags",e),c=[]}let{data:d,error:u}=await t.from("documents").insert({user_id:r.id,title:n,company:s,role:a,content:l,status:"pending",tags:c}).select().single();if(u)throw console.error("Error creating document:",u),Error("Failed to create document");return d}async function c(){let e=await i(),{data:t,error:r}=await e.from("documents").select("tags");return r?(console.error("Error fetching tags:",r),[]):Array.from(new Set(t.flatMap(e=>e.tags||[]))).sort()}async function d(e){let t=await i(),{data:{user:r}}=await t.auth.getUser();if(!r)throw Error("Unauthorized");let n=e.map(({id:e,position:n})=>t.from("documents").update({position:n}).eq("id",e).eq("user_id",r.id));return await Promise.all(n),{success:!0}}(0,r(9344).D)([l,o,c,d]),(0,n.A)(l,"007dd7041af0160a75f2c26ef60d02d7a1b0a5d4b6",null),(0,n.A)(o,"400f721b16eaef7bd574f92a78814ab74cef6572ca",null),(0,n.A)(c,"004a969b3d2e2158d0ff5411a0adc1982e66e81fab",null),(0,n.A)(d,"40fe40283b429faf19b3d706a0f389c5fe9d9ad02a",null)},1223:(e,t,r)=>{r.d(t,{L:()=>l});var n=r(1590);r(376);var s=r(3623),a=r(9344);let i=new s.ij(process.env.API_KEY);async function l(e){let t=i.getGenerativeModel({model:"gemini-2.0-flash",generationConfig:{responseMimeType:"application/json"}}),r=`
    너는 20년 경력의 대기업 인사담당자이자 자기소개서 첨삭 전문가야.
    아래 [원문]을 읽고 맞춤법, 띄어쓰기, 그리고 문맥의 어조(Tone)를 다듬어서 [교정문]을 만들어줘.

    **[교정 규칙]**
    1. **맞춤법/띄어쓰기:** 완벽하게 수정할 것.
    2. **어조(Tone):** '해요'체 보다는 '합니다/했습니다' 같은 정중하고 확신에 찬 어조로 변경할 것.
    3. **가독성:** 문장이 너무 길어지면 적절히 끊거나 연결어미를 자연스럽게 고칠 것.
    4. **왜곡 금지:** 원문의 사실관계(팩트)를 절대 추가하거나 삭제하지 말 것. 의미만 강화할 것.
    5. **출력 형식:** 오직 JSON으로만 출력할 것.

    **[JSON 형식]**
    {
      "original": "원문 그대로",
      "corrected": "교정된 전체 텍스트",
      "changes": ["수정된 포인트 1", "수정된 포인트 2"]
    }

    **[원문]**
    ${e}
  `;try{let e=(await t.generateContent({contents:[{role:"user",parts:[{text:r}]}]})).response.text().replace(/```json|```/g,"").trim();return e=e.replace(/([가-힣])\\([가-힣])/g,"$1\\\\$2"),JSON.parse(e)}catch(e){return console.error("Refine Error:",e),null}}(0,a.D)([l]),(0,n.A)(l,"40ce32114bb7ef776e67f4230455ae8a941edffccd",null)}};